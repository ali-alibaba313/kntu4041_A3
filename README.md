# ๐บ๏ธ ุณุณุชู WebGIS ุจุง Flask

ฺฉ ุณุณุชู ุงุทูุงุนุงุช ุฌุบุฑุงูุง ุชุญุช ูุจ (WebGIS) ุจุง ุงุณุชูุงุฏู ุงุฒ Flaskุ Leaflet ู GeoServer

---

## ๐ ููุฑุณุช ูุทุงูุจ

- [๐ ุฏุฑุจุงุฑู ูพุฑูฺู](#-ุฏุฑุจุงุฑู-ูพุฑูฺู)
- [โจ ูฺฺฏโูุง](#-ูฺฺฏูุง)
  - [๐ ุงุญุฑุงุฒ ููุช](#-ุงุญุฑุงุฒ-ููุช)
  - [๐บ๏ธ ููุดู](#๏ธ-ููุดู)
  - [๐จ ุฑุงุจุท ฺฉุงุฑุจุฑ](#-ุฑุงุจุท-ฺฉุงุฑุจุฑ)
  - [๐ ุงููุช](#-ุงููุช-1)
- [๐ฆ ูพุดโูุงุฒูุง](#-ูพุดูุงุฒูุง)
- [๐ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ](#-ูุตุจ-ู-ุฑุงูุงูุฏุงุฒ)
- [๐ ุณุงุฎุชุงุฑ ูพุฑูฺู](#-ุณุงุฎุชุงุฑ-ูพุฑูฺู)
- [๐ ุฑุงูููุง ุงุณุชูุงุฏู](#-ุฑุงูููุง-ุงุณุชูุงุฏู)
  - [1๏ธโฃ ุซุจุชโูุงู](#1๏ธโฃ-ุซุจุชูุงู)
  - [2๏ธโฃ ูุฑูุฏ](#2๏ธโฃ-ูุฑูุฏ)
  - [3๏ธโฃ ฺฉุงุฑ ุจุง ููุดู](#3๏ธโฃ-ฺฉุงุฑ-ุจุง-ููุดู)
- [๐ ุงุทูุงุนุงุช GeoServer](#-ุงุทูุงุนุงุช-geoserver)
- [๐ ุงููุช](#-ุงููุช-2)
- [๐๏ธ ุชฺฉููููฺโูุง ุงุณุชูุงุฏู ุดุฏู](#๏ธ-ุชฺฉููููฺูุง-ุงุณุชูุงุฏู-ุดุฏู)
- [โ๏ธ ูุดฺฉูุงุช ุดูุงุฎุชู ุดุฏู](#๏ธ-ูุดฺฉูุงุช-ุดูุงุฎุชู-ุดุฏู)
- [๐ ุชูุณุนูโูุง ุขูุฏู](#-ุชูุณุนููุง-ุขูุฏู)
- [๐ธ ุงุณฺฉุฑูโุดุงุชโูุง](#-ุงุณฺฉุฑูุดุงุชูุง)


---

## ๐ ุฏุฑุจุงุฑู ูพุฑูฺู

ุงู ูพุฑูฺู ฺฉ ุณุณุชู WebGIS ฺฉุงูู ุงุณุช ฺฉู ุงูฺฉุงูุงุช ุฒุฑ ุฑุง ูุฑุงูู ูโฺฉูุฏ:

- **ุงุญุฑุงุฒ ููุช ุงูู ฺฉุงุฑุจุฑุงู** ุจุง ุงุณุชูุงุฏู ุงุฒ bcrypt
- **ููุงุด ูุงูโูุง WMS** ุงุฒ GeoServer
- **ุงุณุชุนูุงู ุงุทูุงุนุงุช ุนุงุฑุถูโูุง** (GetFeatureInfo)
- **ุงุจุฒุงุฑูุง ุฑุณู** ุฑู ููุดู
- **ุงูุฒูุฏู ูุงูโูุง WMS ุณูุงุฑุด**

ุงู ูพุฑูฺู ุจุฑุง ุฏุฑุณ ุณุณุชูโูุง ุงุทูุงุนุงุช ุฌุบุฑุงูุง ูพุดุฑูุชู ุทุฑุงุญ ุดุฏู ุงุณุช.

---

## โจ ูฺฺฏโูุง

### ๐ ุงุญุฑุงุฒ ููุช
- โ ุซุจุชโูุงู ฺฉุงุฑุจุฑ ุจุง ุงุนุชุจุงุฑุณูุฌ ูู
- โ ูุฑูุฏ ุงูู ุจุง ุฑูุฒูฺฏุงุฑ bcrypt
- โ ูุฏุฑุช Session
- โ ูุญุงูุธุช ุงุฒ ุตูุญุงุช ุจุง Login Required

### ๐บ๏ธ ููุดู
- โ ููุงุด ูุงูโูุง ูพุงู (OSM, Satellite, Topographic)
- โ ููุงุด ูุงูโูุง WMS ุงุฒ GeoServer
- โ ุงุณุชุนูุงู ุงุทูุงุนุงุช ุนุงุฑุถูโูุง ุจุง ฺฉูฺฉ
- โ ุงุจุฒุงุฑ Identify ุจุฑุง ุฏุฑุงูุช ุงุทูุงุนุงุช
- โ ุงุจุฒุงุฑูุง ุฑุณู (Draw Control)
- โ ุงูุฒูุฏู ูุงู WMS ุณูุงุฑุด

### ๐จ ุฑุงุจุท ฺฉุงุฑุจุฑ
- โ ุทุฑุงุญ ูุฏุฑู ู ุฑุณูพุงูุณู
- โ ูพุดุชุจุงู ฺฉุงูู ุงุฒ ุฑุงุณุชโฺู (RTL)
- โ ุงููุดูโูุง ุฑูุงู
- โ ุตูุญุงุช ุฎุทุง ุณูุงุฑุด (404, 500)

### ๐ ุงููุช (ฑ)
- โ ุฑูุฒูฺฏุงุฑ ุฑูุฒ ุนุจูุฑ ุจุง bcrypt
- โ ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏโูุง
- โ ูุญุงูุธุช ุฏุฑ ุจุฑุงุจุฑ CSRF
- โ Proxy ุจุฑุง ุฏูุฑ ุฒุฏู CORS

---

## ๐ฆ ูพุดโูุงุฒูุง

ูุจู ุงุฒ ูุตุจุ ูุทูุฆู ุดูุฏ ฺฉู ููุงุฑุฏ ุฒุฑ ูุตุจ ุดุฏูโุงูุฏ:

- **Python 3.8+** ([ุฏุงูููุฏ](https://www.python.org/downloads/))
- **pip** (ูุนูููุงู ุจุง Python ูุตุจ ูโุดูุฏ)
- **Git** ([ุฏุงูููุฏ](https://git-scm.com/downloads))
- **ูุฑูุฑฺฏุฑ ูุฏุฑู** (Chrome, Firefox, Edge)

---

## ๐ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ฺฏุงู 1๏ธโฃ: ฺฉููู ฺฉุฑุฏู ูพุฑูฺู
```bash
git clone https://github.com/YOUR_USERNAME/Final_Project.git
cd Final_Project

### ฺฏุงู 2๏ธโฃ: ุงุฌุงุฏ ูุญุท ูุฌุงุฒ (Virtual Environment)

**ุฏุฑ ููุฏูุฒ:**
bash
python -m venv venv
venv\Scripts\activate

**ุฏุฑ ูููฺฉุณ/ูฺฉ:**
bash
python3 -m venv venv
source venv/bin/activate

### ฺฏุงู 3๏ธโฃ: ูุตุจ ูุงุจุณุชฺฏโูุง

bash
pip install -r requirements.txt

### ฺฏุงู 4๏ธโฃ: ุงุฌุฑุง ุจุฑูุงูู

bash
python app.py

### ฺฏุงู 5๏ธโฃ: ุจุงุฒ ฺฉุฑุฏู ุฏุฑ ูุฑูุฑฺฏุฑ

ุจุฑูุงูู ุฏุฑ ุขุฏุฑุณ ุฒุฑ ุงุฌุฑุง ูโุดูุฏ:


http://localhost:5000

ุง ุงุฒ ุขุฏุฑุณ ุดุจฺฉู:


http://127.0.0.1:5000

---

## ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู


Final_Project/
โ
โโโ app.py                      # ูุงู ุงุตู Flask
โโโ requirements.txt            # ูุงุจุณุชฺฏโูุง ูพุงุชูู
โโโ users.json                  # ูุงู ุฐุฎุฑู ฺฉุงุฑุจุฑุงู
โโโ .gitignore                  # ูุงูโูุง ูุงุฏุฏูโฺฏุฑูุชู ุดุฏู ุฏุฑ Git
โโโ README.md                   # ูุณุชูุฏุงุช ูพุฑูฺู
โ
โโโ templates/                  # ูุงูุจโูุง HTML
โ   โโโ login.html             # ุตูุญู ูุฑูุฏ
โ   โโโ register.html          # ุตูุญู ุซุจุชโูุงู
โ   โโโ map.html               # ุตูุญู ููุดู
โ   โโโ 404.html               # ุตูุญู ุฎุทุง 404
โ   โโโ 500.html               # ุตูุญู ุฎุทุง 500
โ
โโโ static/                     # ูุงูโูุง ุงุณุชุงุชฺฉ
โโโ css/
โ   โโโ style.css          # ุงุณุชุงูโูุง CSS
โ
โโโ js/
โโโ map.js             # ุฌุงูุงุงุณฺฉุฑูพุช ููุดู (Leaflet)

---

## ๐ ุฑุงูููุง ุงุณุชูุงุฏู

### 1๏ธโฃ ุซุจุชโูุงู

1. ูุงุฑุฏ ุขุฏุฑุณ `http://localhost:5000` ุดูุฏ
2. ุฑู ููฺฉ **ุซุจุชโูุงู** ฺฉูฺฉ ฺฉูุฏ
3. ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ ูู ูุงุฑุฏ ฺฉูุฏ

**ุงูุฒุงูุงุช ุฑูุฒ ุนุจูุฑ:**
- ุญุฏุงูู 8 ฺฉุงุฑุงฺฉุชุฑ
- ุญุฏุงูู ฺฉ ุญุฑู ุจุฒุฑฺฏ (A-Z)
- ุญุฏุงูู ฺฉ ุญุฑู ฺฉูฺฺฉ (a-z)
- ุญุฏุงูู ฺฉ ุนุฏุฏ (0-9)
- ุญุฏุงูู ฺฉ ฺฉุงุฑุงฺฉุชุฑ ุฎุงุต (@#$%...)

### 2๏ธโฃ ูุฑูุฏ

1. ูุงุฑุฏ ุขุฏุฑุณ `http://localhost:5000/login` ุดูุฏ
2. ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ
3. ูุงุฑุฏ ุตูุญู ููุดู ูโุดูุฏ

### 3๏ธโฃ ฺฉุงุฑ ุจุง ููุดู

**ุงูู) ุชุบุฑ ูุงู ูพุงู:**
- ุงุฒ ููู Layer Control (ฺฏูุดู ุจุงูุง ุฑุงุณุช) ูโุชูุงูุฏ ุจู OSM, Satellite ู Topo ุฌุงุจูโุฌุง ุดูุฏ

**ุจ) ุงุณุชุนูุงู ุงุทูุงุนุงุช:**
1. ุฑู ุฏฺฉูู **Identify** ฺฉูฺฉ ฺฉูุฏ
2. ุฑู ููุทู ููุฑุฏ ูุธุฑ ุฑู ููุดู ฺฉูฺฉ ฺฉูุฏ
3. ุงุทูุงุนุงุช ุนุงุฑุถู ุฏุฑ ูพูู ุณูุช ฺูพ ููุงุด ุฏุงุฏู ูโุดูุฏ

**ุฌ) ุงูุฒูุฏู ูุงู WMS:**
1. ุงุฒ ููู ุงุจุฒุงุฑูุงุ ฺฏุฒูู **ุงูุฒูุฏู ูุงู WMS** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
2. URL ุณุฑูุณ WMS ุฑุง ูุงุฑุฏ ฺฉูุฏ
3. ูุงู ูุงู ุฑุง ูุงุฑุฏ ฺฉูุฏ
4. ุฑู **ุงูุฒูุฏู** ฺฉูฺฉ ฺฉูุฏ

**ุฏ) ุฑุณู ุฑู ููุดู:**
- ุงุฒ ุงุจุฒุงุฑ Draw Control (ุณูุช ฺูพ ููุดู) ูโุชูุงูุฏ ุดฺฉูโูุง ูุฎุชูู ุจฺฉุดุฏ

---

## ๐ ุงุทูุงุนุงุช GeoServer

### ุขุฏุฑุณโูุง WMS ุงุณุชูุงุฏู ุดุฏู:

#### **GeoServer Demo Server:**

https://ahocevar.com/geoserver/wms

**ูุงูโูุง ุฏุฑ ุญุงู ุงุณุชูุงุฏู:**

| ูุงู | ูุงู ูู | ุชูุถุญุงุช |
|------|---------|---------|
| ูุฑุฒูุง ุนุฑุงู | `ne:ne_10m_admin_0_boundary_lines_land` | ูุฑุฒ ฺฉุดูุฑ ุนุฑุงู |
| ุดูุฑูุง ุนุฑุงู | `ne:ne_10m_populated_places` | ุดูุฑูุง ุงุตู |
| ุฌุงุฏูโูุง ุนุฑุงู | `ne:ne_10m_roads` | ุดุจฺฉู ุฌุงุฏูโุง |

### ููููู ุฏุฑุฎูุงุณุช GetFeatureInfo:


https://ahocevar.com/geoserver/wms?
  SERVICE=WMS&
  VERSION=1.1.1&
  REQUEST=GetFeatureInfo&
  LAYERS=ne:ne_10m_admin_0_boundary_lines_land&
  QUERY_LAYERS=ne:ne_10m_admin_0_boundary_lines_land&
  INFO_FORMAT=application/json&
  FEATURE_COUNT=10&
  X=50&
  Y=50&
  SRS=EPSG:4326&
  WIDTH=101&
  HEIGHT=101&
  BBOX=43.0,29.0,49.0,38.0

---

## ๐ ุงููุช (ฒ)

ุงู ูพุฑูฺู ุงุฒ ุฑูุดโูุง ุงููุช ุฒุฑ ุงุณุชูุงุฏู ูโฺฉูุฏ:

### 1๏ธโฃ ุฑูุฒูฺฏุงุฑ ุฑูุฒ ุนุจูุฑ
- ุงุณุชูุงุฏู ุงุฒ **bcrypt** ุจุฑุง ูุด ฺฉุฑุฏู ุฑูุฒ ุนุจูุฑ
- ุนุฏู ุฐุฎุฑู ุฑูุฒ ุนุจูุฑ ุจู ุตูุฑุช ูุชู ุณุงุฏู

### 2๏ธโฃ ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏโูุง
python
# ุงุนุชุจุงุฑุณูุฌ ูุฏุฑุช ุฑูุฒ ุนุจูุฑ
def validate_password(password):
# ุญุฏุงูู 8 ฺฉุงุฑุงฺฉุชุฑ
# ุญุฏุงูู ฺฉ ุญุฑู ุจุฒุฑฺฏุ ฺฉูฺฺฉุ ุนุฏุฏ ู ฺฉุงุฑุงฺฉุชุฑ ุฎุงุต
...

# ุงุนุชุจุงุฑุณูุฌ ูุงู ฺฉุงุฑุจุฑ
def validate_username(username):
# 3 ุชุง 20 ฺฉุงุฑุงฺฉุชุฑ
# ููุท ุญุฑูู ุงูฺฏูุณุ ุงุนุฏุงุฏ ู _
...

### 3๏ธโฃ ูุญุงูุธุช ุงุฒ ุตูุญุงุช
- ุงุณุชูุงุฏู ุงุฒ Session ุจุฑุง ูุฏุฑุช ฺฉุงุฑุจุฑุงู
- ูุญุงูุธุช ุงุฒ ุตูุญู ููุดู ุจุง ุจุฑุฑุณ ูุงฺฏู

### 4๏ธโฃ Proxy ุจุฑุง CORS
- ุงุณุชูุงุฏู ุงุฒ `/api/geoserver-proxy` ุจุฑุง ุฏูุฑ ุฒุฏู CORS Policy

### โ๏ธ ูฺฉุงุช ุงููุช ููู:

**CRITICAL:** ูุจู ุงุฒ ุงุณุชูุงุฏู ุฏุฑ ูุญุท Production:

python
# ุฏุฑ app.py ุฎุท ุฒุฑ ุฑุง ุชุบุฑ ุฏูุฏ:
app.secret_key = 'your-secret-key-change-this-in-production'

# ุจู ฺฉ ฺฉูุฏ ุชุตุงุฏู ู ูพฺุฏู:
app.secret_key = 'your-random-secret-key-here-use-os-urandom'

**ุชููุฏ Secret Key ุงูู:**
python
import os
print(os.urandom(24).hex())

---

## ๐๏ธ ุชฺฉููููฺโูุง ุงุณุชูุงุฏู ุดุฏู

### Backend
- **Flask 3.1.0** - ูุฑููุฑฺฉ ูุจ
- **bcrypt 4.2.1** - ุฑูุฒูฺฏุงุฑ ุฑูุฒ ุนุจูุฑ
- **requests 2.32.3** - ุงุฑุชุจุงุท ุจุง GeoServer

### Frontend
- **Leaflet 1.9.4** - ฺฉุชุงุจุฎุงูู ููุดู
- **Leaflet.draw 1.0.4** - ุงุจุฒุงุฑูุง ุฑุณู
- **HTML5 / CSS3** - ุณุงุฎุชุงุฑ ู ุงุณุชุงู
- **JavaScript** - ููุทู ฺฉูุงูุช

### GeoServer
- **GeoServer Demo Server** - ุณุฑูุณ WMS
- **OGC WMS 1.1.1** - ุงุณุชุงูุฏุงุฑุฏ ููุดู

---

## โ๏ธ ูุดฺฉูุงุช ุดูุงุฎุชู ุดุฏู

### 1๏ธโฃ CORS Policy
ุจุฑุง ุญู ุงู ูุดฺฉูุ ุงุฒ Proxy ุฏุฑ `/api/geoserver-proxy` ุงุณุชูุงุฏู ูโุดูุฏ.

### 2๏ธโฃ GetFeatureInfo ููฺฉู ุงุณุช ุฎุงู ุจุงุดุฏ
ุจุนุถ ูุงูโูุง ููฺฉู ุงุณุช GetFeatureInfo ุฑุง ูพุดุชุจุงู ูฺฉููุฏ. ุฏุฑ ุงู ุตูุฑุช ูพุงู ุฒุฑ ููุงุด ุฏุงุฏู ูโุดูุฏ:

โ ูฺ ุงุทูุงุนุงุช ุฏุฑ ุงู ููุทู ุงูุช ูุดุฏ

### 3๏ธโฃ ูุญุฏูุฏุช GeoServer Demo
GeoServer Demo ููฺฉู ุงุณุช ฺฏุงู ุงููุงุช ฺฉูุฏ ุจุงุดุฏ ุง ุฏุฑ ุฏุณุชุฑุณ ูุจุงุดุฏ.

**ุฑุงู ุญู:** ุงุณุชูุงุฏู ุงุฒ GeoServer ูุญู:
bash
# ุฏุงูููุฏ GeoServer
wget http://sourceforge.net/projects/geoserver/files/GeoServer/2.24.0/geoserver-2.24.0-bin.zip

# ุงุฌุฑุง
cd geoserver/bin
./startup.sh  # Linux/Mac
startup.bat   # Windows

---

## ๐ ุชูุณุนูโูุง ุขูุฏู

- [ ] ุงูุฒูุฏู ูพุงฺฏุงู ุฏุงุฏู PostgreSQL ุจู ุฌุง `users.json`
- [ ] ุงูุฒูุฏู ููุดโูุง ฺฉุงุฑุจุฑ (Admin, User)
- [ ] ูุงุจูุช ุฐุฎุฑู ููุดูโูุง ฺฉุงุฑุจุฑุงู
- [ ] ุงูุฒูุฏู ุงุจุฒุงุฑ ุงูุฏุงุฒูโฺฏุฑ ูุณุงุญุช ู ูุณุงูุช
- [ ] ูพุดุชุจุงู ุงุฒ ูุฑูุชโูุง ุจุดุชุฑ (KML, GeoJSON)
- [ ] ุงูุฒูุฏู GeoServer ูุญู
- [ ] ูุงุจูุช Export ููุดู ุจู PDF/PNG
- [ ] ุงูุฒูุฏู ูพูู ูุฏุฑุช ูุงูโูุง

---


## ๐ธ Screenshots

https://github.com/ali-alibaba313/kntu4041_A3/blob/main/screenshots/login.jpg?raw=true

![Register Page](https://github.com/ali-alibaba313/kntu4041_A3/blob/main/screenshots/register.jpg?raw=true)
![Map Page](https://github.com/ali-alibaba313/kntu4041_A3/blob/main/screenshots/map.jpg?raw=true)
![Feature Info](https://github.com/ali-alibaba313/kntu4041_A3/blob/main/screenshots/feature-info.jpg?raw=true)


ุจุง ุชุดฺฉุฑ ุงุฒ ุงุณุชุงุฏ ุนุฒุฒ ุฏฺฉุชุฑ ูุธุฑ
